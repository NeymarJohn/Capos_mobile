<div class="box choose-variants">
  <h4>Choose variant products</h4>
  <ion-button fill="clear" class="close-button" size="small" (click)="dismiss()"><ion-icon name="close-circle-outline" color="primary"></ion-icon></ion-button>
  <h6>{{product_name}}</h6>
  <form [formGroup]="form" (submit)="doAction()" *ngIf="form">
    <div class="variants_container">  
      <ion-list>        
        <ng-container *ngFor="let variant of variant_products; let c_index=index;">
          <ion-item lines="full">
            <ion-checkbox formControlName="{{'checked' + c_index}}" (ionChange)="selVariant(c_index)" slot="start"></ion-checkbox>
            <ion-label>{{variant.name}}</ion-label>
            <ion-note slot="end">{{util.getPriceWithCurrency(variant.retail_price)}}</ion-note>
          </ion-item>          
        </ng-container>
      </ion-list>      
    </div>
    <ion-row>
      <ion-col>
        <ion-button type="button" expand="block" color="danger" (click)="dismiss()">Cancel</ion-button>
      </ion-col>
      <ion-col>
        <ion-button type="submit" expand="block" [ngClass]="{'disabled':!isValid}">Add to bundle</ion-button>
      </ion-col>
    </ion-row>
  </form>
</div>